<!-- <section class="home1 feature">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="bg">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="single-feature d-flex align-items-center justify-content-center">
                                <div class="icon">
                                    <i class="flaticon-fire-truck"></i>
                                </div>
                                <div class="text">
                                    <h4>free shipping</h4>
                                    <p>orders over $250</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="single-feature d-flex align-items-center justify-content-center">
                                <div class="icon">
                                    <i class="flaticon-credit-card"></i>
                                </div>
                                <div class="text">
                                    <h4>quick payment</h4>
                                    <p>100% secure payment</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="single-feature d-flex align-items-center justify-content-center">
                                <div class="icon">
                                    <i class="flaticon-gift-box"></i>
                                </div>
                                <div class="text">
                                    <h4>gift certificate</h4>
                                    <p>buy now $500</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="single-feature d-flex align-items-center justify-content-center">
                                <div class="icon">
                                    <i class="flaticon-customer-service"></i>
                                </div>
                                <div class="text">
                                    <h4>24/7 support</h4>
                                    <p>ready support</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> -->

<div class="styles_heroContainer__yIcEW">
            <div class="styles_hero__oOAxM">
                <div class="styles_heroWrapper__8mAYw">
                    <div class="styles_heroContent__8frQH">
                        <div class="styles_heroBackground__9mrLv">
                            <img width="689" height="538" alt=""
                                src="https://c.tfstatic.com/w_689,h_538,c_fill,g_auto:subject,q_auto,f_auto/tf-product/homepage-hero/en-US"
                                srcSet="https://c.tfstatic.com/w_689,h_538,c_fill,g_auto:subject,q_auto,f_auto/tf-product/homepage-hero/en-US 1x , https://c.tfstatic.com/w_1378,h_1076,c_fill,g_auto:subject,q_auto,f_auto/tf-product/homepage-hero/en-US 2x "
                                style="background:none" class="eb34jsh0 css-h3ec44 eb34jsh1" />
                        </div>
                        <div data-test="homepage-tagline" class="styles_heroForm__uSl_W">
                            <h1 class="css-f0b5kp e1fq6wxe0">Discover and book the best restaurant</h1>
                            <form method="POST" action="/restaurants/nearby" id="locationForm">
                                @csrf
                                <input type="text" name="location" id="locationInput" placeholder="Enter your location">
                                <input type="text" name="latitude" id="latitudeInput">
                                <input type="text" name="longitude" id="longitudeInput">
                                <button type="button" id="locationButton" class="btn btn-primary">Get My Location</button>

                                <button type="submit">Submit</button>
                              </form>

                            <div data-test="search-component" class="styles_form__k_OCj">
                                <div class="css-1sn0ou2 elkhwc30">
                                    <div class="styles_inputContainer__oP8eT">
                                        <div class="styles_header__LvEz8">
                                            <div class="styles_titleBar__faw9q">
                                                <span>
                                                    <span>What</span>
                                                </span>
                                                <button class="styles_iconCross__sHcI3">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                        viewBox="0 0 24 24" aria-hidden="true" focusable="false"
                                                        class="css-p3qwn0 e7tclca0">
                                                        <path fill-rule="evenodd"
                                                            d="m12 10.94 6.22-6.22a.75.75 0 0 1 1.147.956l-.087.104L13.06 12l6.22 6.22a.75.75 0 0 1-.956 1.147l-.104-.087L12 13.06l-6.22 6.22a.75.75 0 0 1-1.147-.956l.087-.104L10.94 12 4.72 5.78a.75.75 0 0 1 .956-1.147l.104.087L12 10.94Z">
                                                        </path>
                                                    </svg>
                                                </button>
                                            </div>
                                            <label color="gray.xl" display="block" for="whatinput"
                                                class="css-14l0plx eulusyj0">
                                                <span class="styles_mobileLabel___v_v9" role="button">
                                                    <span>What</span>
                                                </span>
                                            </label>
                                            <span class="styles_wrapper__yAYpU styles_searchInputWrapper__VlR2_">
                                                <span
                                                    class="styles_inputLine__o5Lpc styles_hasBorder__RBeU2 styles_search__tjTV0 styles_searchInput__u_8Vt">
                                                    <span role="button" tabindex="0" class="styles_prefix__FlGY7">
                                                        <span class="styles_searchIcon__ureZe">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                height="24" viewBox="0 0 24 24" aria-hidden="true"
                                                                focusable="false" class="css-p3qwn0 elml5ar0">
                                                                <g fill-rule="evenodd">
                                                                    <path
                                                                        d="M16.91 1.5C19.181 1.5 21 4.068 21 6.616c0 2.083-1.32 3.496-3.273 3.802V21.59a.91.91 0 1 1-1.819 0V10.418c-1.952-.306-3.09-1.719-3.09-3.802 0-2.548 1.819-5.116 4.091-5.116Zm0 1.467c-1.174 0-2.455 1.81-2.455 3.65 0 1.546.96 2.395 2.454 2.395 1.494 0 2.455-.849 2.455-2.396 0-1.839-1.282-3.649-2.455-3.649Z">
                                                                    </path>
                                                                    <path
                                                                        d="M7.09 21.766c0 .406-.365.734-.817.734-.452 0-.818-.328-.818-.734V9.728C4.095 9.728 3 8.723 3 7.492V2.234c0-.406.366-.734.818-.734.452 0 .818.328.818.734v5.258c0 .428.371.769.819.769V2.234c0-.406.366-.734.818-.734.452 0 .818.328.818.734V8.26c.447 0 .818-.34.818-.769V2.234c0-.406.366-.734.818-.734.452 0 .818.328.818.734v5.258c0 1.231-1.094 2.236-2.454 2.236v12.038Z">
                                                                    </path>
                                                                </g>
                                                            </svg>
                                                        </span>
                                                    </span>
                                                    <label class="styles_labelWrapper__Ce7TK">
                                                        <span class="styles_inputWrapper__eMJ2o styles_search__tjTV0">
                                                            <input type="search" class="styles_input__vCYji"
                                                                 placeholder="Cuisine, restaurant name..."
                                                                id="whatinput" />
                                                        </span>
                                                    </label>
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="css-uzcusv elkhwc30">
                                    <div class="styles_inputContainer__oP8eT">
                                        <div class="styles_header__LvEz8">
                                            <div class="styles_titleBar__faw9q">
                                                <span>Where</span>
                                                <button class="styles_iconCross__sHcI3">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                        viewBox="0 0 24 24" aria-hidden="true" focusable="false"
                                                        class="css-p3qwn0 e7tclca0">
                                                        <path fill-rule="evenodd"
                                                            d="m12 10.94 6.22-6.22a.75.75 0 0 1 1.147.956l-.087.104L13.06 12l6.22 6.22a.75.75 0 0 1-.956 1.147l-.104-.087L12 13.06l-6.22 6.22a.75.75 0 0 1-1.147-.956l.087-.104L10.94 12 4.72 5.78a.75.75 0 0 1 .956-1.147l.104.087L12 10.94Z">
                                                        </path>
                                                    </svg>
                                                </button>
                                            </div>
                                            <label color="gray.xl" display="block" for="whereinput"
                                                class="css-14l0plx eulusyj0">
                                                <span class="styles_mobileLabel___v_v9" role="button">Where</span>
                                            </label>
                                            <span class="styles_wrapper__yAYpU styles_searchInputWrapper__VlR2_">
                                                <span
                                                    class="styles_inputLine__o5Lpc styles_hasBorder__RBeU2 styles_search__tjTV0 styles_searchInput__u_8Vt">
                                                    <span role="button" tabindex="0" class="styles_prefix__FlGY7">
                                                        <span class="styles_searchIcon__ureZe">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                height="24" viewBox="0 0 24 24" aria-hidden="true"
                                                                focusable="false" class="css-p3qwn0 e3pjkim0">
                                                                <g fill-rule="evenodd">
                                                                    <path
                                                                        d="M12 1.5a6.75 6.75 0 0 1 6.75 6.75c0 .82-.146 1.62-.413 2.324-.775 2.588-2.671 6.43-5.69 11.557a.75.75 0 0 1-1.293 0c-3.02-5.127-4.916-8.97-5.675-11.51A6.75 6.75 0 0 1 12 1.5ZM12 3a5.25 5.25 0 0 0-5.25 5.25c0 .639.114 1.26.35 1.892.673 2.249 2.294 5.605 4.856 10.045l.043.073.43-.746c2.229-3.912 3.69-6.942 4.389-9.101l.099-.318A5.25 5.25 0 0 0 12 3Z">
                                                                    </path>
                                                                    <path
                                                                        d="M12 5.25a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z">
                                                                    </path>
                                                                </g>
                                                            </svg>
                                                        </span>
                                                    </span>
                                                    <label class="styles_labelWrapper__Ce7TK">
                                                        <span class="styles_inputWrapper__eMJ2o styles_search__tjTV0">
                                                            <input type="search" class="styles_input__vCYji"
                                                                name="location"
                                                                placeholder="Near me, exact address, station..."
                                                                 />
                                                        </span>
                                                    </label>
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>



                                
                           
                                    <button width="100%" type="submit" 
                                         display="block"
                                        class="css-m080s5 ektx8jp0">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6vplU0Ty7M1OQTJ3yhZBroOJ59i7bMpg&libraries=places&callback=initAutocomplete" async defer></script>
        
{{-- <script>
    // JavaScript code
    function initAutocomplete() {
      var locationForm = document.getElementById('locationForm');
      var locationInput = document.getElementById('locationInput');
      var latitudeInput = document.getElementById('latitudeInput');
      var longitudeInput = document.getElementById('longitudeInput');
  
      // Initialize the autocomplete input field
      var autocomplete = new google.maps.places.Autocomplete(locationInput);
  
      // Limit autocomplete results to geocode type (address)
      autocomplete.setTypes(['geocode']);
  
      // Trigger form submission when a place is selected from autocomplete
      autocomplete.addListener('place_changed', function() {
        var place = autocomplete.getPlace();
        if (place && place.geometry && place.geometry.location) {
          var latitude = place.geometry.location.lat();
          var longitude = place.geometry.location.lng();
  
          // Update the hidden input fields with the latitude and longitude
          latitudeInput.value = latitude;
          longitudeInput.value = longitude;
        }
        locationForm.submit();
      });
  
      locationForm.addEventListener('submit', function(event) {
        event.preventDefault();
        locationForm.submit();
      });
    
    }
</script> --}}

<script>
    function initAutocomplete() {
        var locationForm = document.getElementById('locationForm');
        var locationInput = document.getElementById('locationInput');
        var latitudeInput = document.getElementById('latitudeInput');
        var longitudeInput = document.getElementById('longitudeInput');
        var locationButton = document.getElementById('locationButton');
        var autocomplete;

        // Initialize the autocomplete input field
        autocomplete = new google.maps.places.Autocomplete(locationInput);

        // Limit autocomplete results to geocode type (address)
        autocomplete.setTypes(['geocode']);

        // Trigger form submission when a place is selected from autocomplete
        autocomplete.addListener('place_changed', function() {
            var place = autocomplete.getPlace();
            if (place && place.geometry && place.geometry.location) {
                var latitude = place.geometry.location.lat();
                var longitude = place.geometry.location.lng();

                // Update the hidden input fields with the latitude and longitude
                latitudeInput.value = latitude;
                longitudeInput.value = longitude;
            }
        });

        // Handle location button click event
        locationButton.addEventListener('click', function() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;

                    // Update the hidden input fields with the latitude and longitude
                    latitudeInput.value = latitude;
                    longitudeInput.value = longitude;

                    // Set the value of the location input field
                    locationInput.value = '';

                    // Manually trigger the place_changed event
                    google.maps.event.trigger(autocomplete, 'place_changed');

                    // Print location information in the console
                    console.log('Selected Location:', locationInput.value);
                    console.log('Latitude:', latitude);
                    console.log('Longitude:', longitude);
                });
            } else {
                alert('Geolocation is not supported by this browser.');
            }
        });

        // Handle form submission
        locationForm.addEventListener('submit', function(event) {

            // Use the latitude and longitude values for form submission
            var latitude = latitudeInput.value;
            var longitude = longitudeInput.value;

            // Submit the form or perform any additional actions
            // Here, you can add your code to submit the form
            // or perform any other required actions with the latitude and longitude values
            console.log('Latitude (Form Submission):', latitude);
            console.log('Longitude (Form Submission):', longitude);

            // Uncomment the following line to submit the form
            // locationForm.submit();
        });
    }

    google.maps.event.addDomListener(window, 'load', initAutocomplete);
</script>

